<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>

<header class="container-fluid headerClass mx-0 px-0 mb-5 sticky-top">
  <nav
    class="navbar navbar-expand-lg bg-body-tertiary nav-underline"
    id="navbarId"
  >
    <div class="container-fluid">
      <div class="d-flex flex-wrap align-items-center">
        <a [routerLink]="['/']" rel="prefetch">
          <img
            class="mx-2"
            src="/assets/images/logo-light.webp"
            alt="logo"
            id="logo"
            loading="lazy"
          />
        </a>
        <p class="navbar-brand mainTitle mx-2 my-3">Tienda de campeones</p>
      </div>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <div
          class="d-flex flex-row justify-content-between align-items-center w-100"
        >
          <ul class="navbar-nav mx-5 list-unstyled">
            <li class="navItem nav-item my-0 mx-1 p-0">
              <a
                class="nav-link fw-medium"
                [routerLink]="['/']"
                *ngIf="showHomeLink"
                >Inicio</a
              >
            </li>

            <li class="navItem nav-item my-0 mx-1 p-0">
              <a
                class="nav-link fw-medium"
                [routerLink]="['/products']"
                *ngIf="showProductsLink"
                >Productos</a
              >
            </li>
            <li class="navItem nav-item my-0 mx-1 p-0">
              <a
                class="nav-link fw-medium"
                [routerLink]="['/about']"
                *ngIf="showAboutLink"
                >Nosotros</a
              >
            </li>
          </ul>
          <ul
            class="list-unstyled mx-2 my-0 d-flex flex-row align-items-center"
          >
            <!-- Botón de login -->
            <li class="p-0 my-0 mx-1 navItem nav-item d-block" id="log">
              <button
                type="button"
                class="material-icons button text-decoration-none"
                id="loginBtn"
                data-bs-toggle="modal"
                data-bs-target="#loginModal"
              >
                login
              </button>
            </li>
            <!-- Botón de logout -->
            <!-- Botón de logout -->
            <li class="p-0 my-0 mx-1 navItem nav-item" id="logoutBtn">
              <button
                type="button"
                class="material-icons button d-none"
                data-bs-toggle="modal"
                data-bs-target="#logoutModal"
              > <!-- Remove d-none class at next version for dynamic rendering -->
                logout
              </button>
            </li>

            <li class="p-0 my-0 mx-1 navItem nav-item">
              <a
                [routerLink]="['/cart']"
                class="material-icons button text-decoration-none"
                id="cartBtn"
                rel="prefetch"
              >
                shopping_cart
              </a>
            </li>
            <li class="p-0 my-0 mx-1 navItem nav-item dropdown-transparent">
              <div class="dropdown">
                <a
                  class="btn"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <span class="material-icons icon-black align-middle"
                    >settings</span
                  >
                </a>
                <ul class="dropdown-menu dropdown-menu-end align-middle">
                  <li class="my-1">
                    <a class="dropdown-item" [routerLink]="['/dashboard']"
                      >Panel de control</a
                    >
                  </li>
                  <li class="my-1">
                    <a class="dropdown-item" [routerLink]="['/settings']"
                      >Configuración</a
                    >
                  </li>
                  <li class="my-1">
                    <a class="dropdown-item" [routerLink]="['/contact']"
                      >Soporte</a
                    >
                  </li>
                </ul>
              </div>
            </li>
            <li id="togglerBtnDM" class="p-0 my-0 mx-1 navItem nav-item">
              <button
                class="material-icons align-middle border border-0 bg-transparent"
                (click)="toggleTheme($event)"
              >
                dark_mode
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>

<section>
  <app-login-form></app-login-form>
</section>

<section *ngIf="modalFormVisible">
  <app-register-form></app-register-form>
</section>

<section>
  <div
    class="modal fade"
    id="logoutModal"
    tabindex="-1"
    aria-labelledby="logoutModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="logoutModalLabel">Cerrar sesión</h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          ¿Estás seguro/a que querés finalizar tu sesión?
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancelar
          </button>
          <button type="button" class="btn btn-danger">Cerrar sesión</button>
          <!--Agregar (click)="logout()" -->
        </div>
      </div>
    </div>
  </div>
</section>
